import { useState } from "react";

export default function PharmacyMenu() { const [cart, setCart] = useState([]);

const products = [ { id: 1, name: "شامبو ضد القشرة", description: "شامبو بحجم 400مل، مناسب لجميع أنواع الشعر", sizes: [ { label: "صغير", price: 10 }, { label: "وسط", price: 15 }, { label: "كبير", price: 20 }, ], image: "https://via.placeholder.com/150", }, { id: 2, name: "مسكن ألم", description: "مسكن ألم سريع المفعول، 20 قرص", sizes: [ { label: "صغير", price: 5 }, { label: "وسط", price: 8 }, { label: "كبير", price: 12 }, ], image: "https://via.placeholder.com/150", }, { id: 3, name: "فيتامين C", description: "حبوب فيتامين C لتعزيز المناعة، عبوة 1000ملغم", sizes: [ { label: "صغير", price: 7 }, { label: "وسط", price: 10 }, { label: "كبير", price: 15 }, ], image: "https://via.placeholder.com/150", }, ];

const addToCart = (product, size) => { const item = { name: product.name, size: size.label, price: size.price }; setCart([...cart, item]); };

const generateWhatsAppMessage = () => { const message = "📦 [طلب من موقع خدمات القرين]\n" + cart.map((item) => - ${item.name} (${item.size}) — ${item.price} ريال).join("\n"); const phone = "9665XXXXXXXX"; // ضع رقم المندوب هنا return https://wa.me/${phone}?text=${encodeURIComponent(message)}; };

return ( <div className="p-4 max-w-2xl mx-auto"> <h1 className="text-xl font-bold mb-4">🧴 منتجات الصيدلية</h1> <div className="grid grid-cols-1 gap-4"> {products.map((product) => ( <div key={product.id} className="border rounded-xl p-4 shadow"> <img src={product.image} alt={product.name} className="w-full h-40 object-cover rounded" /> <h2 className="text-lg font-semibold mt-2">{product.name}</h2> <p className="text-sm text-gray-600">{product.description}</p> <div className="mt-2 space-x-2"> {product.sizes.map((size, idx) => ( <button key={idx} className="mt-1 px-3 py-1 bg-green-600 text-white rounded-full" onClick={() => addToCart(product, size)} > {size.label} - {size.price} ريال </button> ))} </div> </div> ))} </div>

{cart.length > 0 && (
    <div className="mt-6 p-4 bg-gray-100 rounded-xl shadow">
      <h2 className="text-lg font-bold mb-2">🛒 سلة الطلبات</h2>
      <ul className="list-disc pl-5 text-sm">
        {cart.map((item, idx) => (
          <li key={idx}>
            {item.name} ({item.size}) — {item.price} ريال
          </li>
        ))}
      </ul>
      <a
        href={generateWhatsAppMessage()}
        target="_blank"
        rel="noopener noreferrer"
        className="mt-4 inline-block px-4 py-2 bg-blue-600 text-white rounded-full"
      >
        إرسال الطلب عبر واتساب
      </a>
    </div>
  )}
</div>

); }

